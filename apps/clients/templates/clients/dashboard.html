{% extends 'base.html' %}

{% block content %}
<div class="client-dashboard">
    <h2>Welcome, {{ client.user.username }}!</h2>
    
    <!-- Search Filters -->
    <div class="search-filters">
        <form method="GET" class="filter-form">
            <div class="filter-group">
                <input type="text" name="location" placeholder="Search by location">
                <select name="fabric">
                    <option value="">Select Fabric Type</option>
                    <option value="cotton">Cotton</option>
                    <option value="silk">Silk</option>
                    <option value="wool">Wool</option>
                    <option value="delicate">Delicate</option>
                </select>
                <select name="price">
                    <option value="">Price Range</option>
                    <option value="low">$0-$20</option>
                    <option value="medium">$21-$50</option>
                    <option value="high">$51+</option>
                </select>
                <button type="submit">Search</button>
            </div>
        </form>
    </div>

    <!-- Providers List -->
    <div class="providers-list">
        {% for provider in providers %}
        <div class="provider-card">
            <h3>{{ provider.user.username }}</h3>
            <p>Location: {{ provider.address }}</p>
            <p>Services: {{ provider.service_type }}</p>
            <button onclick="location.href='{% url 'clients_book_service' provider.id %}'">Book Now</button>
        </div>
        {% endfor %}
    </div>

    <!-- Active Orders -->
    <div class="active-orders">
        <h3>My Orders</h3>
        {% for order in active_orders %}
        <div class="order-card">
            <p>Order #{{ order.id }}</p>
            <p>Status: {{ order.status }}</p>
            <p>Provider: {{ order.provider.user.username }}</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}